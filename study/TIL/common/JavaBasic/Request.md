## Request 기본 객체

### 1. 개요
웹 브라우저에 웹사이트 주소를 입력하면, 웹 브라우저는 해당 웹 서버에 연결 후 요청 정보를 전송하는데, 이 요청
정보를 제공하는 것이 바로 request 기본 객체이다.

### 2. 기능
request 기본 객체가 제공하는 기능은 다음과 같다.
- 클라이언트와 관련된 정보 읽기 가능
- 서버와 관련된 정보 읽기 가능
- 클라이언트가 전송한 요청 파라미터 읽기 가능
- 클라이언트가 전송한 요청 헤더 읽기 가능
- 클라이언트가 전송한 쿠키 읽기 가능
- 속성 처리 가능


### 2.1 클라이언트 및 서버 정보 읽기

request 기본 객체는 클라이언트가 전송한 정보와 서버가 전송한 정보를 구할 수 있는 메서드를 제공하고 있다.
JSP의 request 기본 객체 메서드는 다음 링크에서 확인할 수 있다.

[JSP 기본 내장 객체 모음](http://bamtol.net/v5/bbs/board.php?bo_table=pp_server&wr_id=9)

### 2.2 요청 파라미터 처리
입력 요소의 이름은 웹 브라우저가 서버에 전송하는 요청 파라미터의 이름으로 사용된다. 예를 들어,
이름 입력 요소와 주소 입력 요소에 각각 "홍길동"과 "임꺽정"을 입력한 뒤에 [전송] 버튼을 클릭하면, 웹
브라우저는 (파라미터이름=값) 형식으로 파라미터 목록을 웹 서버에 전송한다.

#### 2.2.1 request 기본 객체의 요청 파라미터 관련 메서드

| 메서드                             | 리턴 타입                 | 설명                                                     |
|:--------------------------------|:----------------------|:-------------------------------------------------------|
| getParameter(String name)       | String                | 이름이 name인 파라미터 값을 구한다.<br>존재하지 않는 경우 null 리턴           |
| getParameterValues(String name) | String[]              | 이름이 name인 모든 파라미터의 값을 배열로 구한다.<br> 존재하지 않을 경우 null 리턴  |
| getParameterNames()             | java.util.Enumeration | 웹 브라우저가 전송한 파라미터의 이름 목록을 구한다.                          |
| getParameterMap()               | java.util.Map         | 웹 브라우저가 전송한 파라미터의 맵을 구한다.<br>맵은 (파라미터 이름, 값) 쌍으로 구성된다. |


#### 2.2.2 GET 방식 전송과 POST 방식 전송

웹 브라우저는 GET 방식과 POST 방식의 두 가지 방식 중 한 가지를 이용해서 파라미터를 전송한다.
GET 방식은 요청 URL에 따라 파라미터를 붙여서 전송한다. GET 방식은 URL의 경로뒤에 ?와 함께 파라미터를
붙여서 전송하는데, 이를 쿼리 문자열(query string)이라고 한다.

각각의 파라미터는 & 기호로 구분하며, 파라미터의 이름과 값은 = 로 구분한다. 가끔 URL에 파라미터 값으로
%EC%95%84%EC%B0 과 같은 이상한 문자로 표시가 될 때가 있는데, 파라미터 값을 RFC 2396 규약에 따라 인코딩
해서 전송하기 때문이다.

GET 방식과 달리 POST 방식은 데이터 영역을 이용해서 파라미터를 전송한다. GET 방식은 URL에 파라미터를 전송하기
때문에 길이 제한이 있을 수 있지만 POST는 데이터 영역을 이용하기 때문에 파라미터의 길이 제한이 없다.

#### 2.2.3 요청 파라미터 인코딩

웹 브라우저와 웹 서버는 파라미터를 전송하고 받을 때 캐릭터 셋을 이용하여 파라미터 값을 인코딩/디코딩 한다.
UTF-8 캐릭터 셋을 이용해서 파라미터 값을 인코딩했다면 웹 서버는 똑같이 UTF-8로 디코딩을 해야한다.

request.getParameter() 메서드나 request.getParameterValues() 메서드는 요청 파라미터 값을
읽어올 때, request.setCharacterEncoding()으로 지정한 캐릭터 셋을 이용해서 디코딩한다. 만약
지정하지 않는 경우 기본값은 ISO-8859-1이다.

>NOTE
> >서블릿 규약에 따르면 setCharacterEncoding() 메서드는 HTTP 프로토콜의 데이터 영역을 인코딩할 때
> >사용할 캐릭터 셋을 지정한다. POST 방식은 파라미터를 데이터 영역을 통해서 전달하므로 setCharacterEncoding()
> >메서드에서 지정한 캐릭터 셋이 적용된다. 반면에 GET 방식은 요청 라인에 URI와 함께 쿼리 문자열로 파라미터를 전달하기 때문에
> >setCharacterEncoding() 메서드에서 지정한 캐릭터 셋이 적용되지 않는 것이 원칙이다.

#### 2.2.4 톰캣에서 GET 방식 파라미터를 위한 인코딩 처리

8버전에서 UTF-8 을 사용할 경우 별도의 설정이 필요없다. 다른 캐릭터 셋이라면 server.xml 파일에서
<Connector>의 useBodyEncodingForURI 속성의 값을 true로 지정해야한다.
server.xml 파일의 경로는 [톰캣설치폴더]/conf 폴더에 위치한다.

#### 2.2.4 요청 헤더 정보의 처리

HTTP 프로토콜은 헤더 정보에 부가적인 정보를 담는다. request 기본 객체는 이러한 헤더 정보를 읽어올 수 있는
기능을 제공하고 있다.

- getHeader(String name)
- getHeaders(String name)
- getHeaderNames()
- getIntHeader(String name)
- getDateHeader(String name)













